var DOMLoaded=function(){var shuffleInstance,Shuffle=window.Shuffle,buttonsArray=Array.from(document.querySelectorAll(".filter-options button")),criticInput=document.querySelector(".nav-item.criticAllocine"),criticNull=!1,criticNumberBool=!1,criticRatingsLi=document.querySelector(".criticRatings"),userRatingLi=document.querySelector(".nav-item.userRating"),gridContainerElement=document.getElementById("grid"),imdbUserRatingLi=document.querySelector(".nav-item.imdbUserRating"),localbuttonCriticNameNumber=0,menuButton=document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)"),menuButtonArray=Array.from(menuButton),mainToggle0=document.querySelector("#criticToggle0").parentNode.parentNode,optionsArray=Array.from(document.querySelectorAll(".period-options option")),optionsButton=document.querySelector(".period-options"),overlay=document.getElementById("menu"),tglDarkmode=document.querySelector(".tgl-darkmode");const darkmode=new Darkmode({time:"0.5s",mixColor:"#FFFFFF",backgroundColor:"#EDEDED"});function splitDate(date){var newDate=date.split(" "),altFormat=!1;switch(newDate[1]){case"janvier":newDate[1]="01";break;case"Jan":newDate[1]="01",altFormat=!0;break;case"février":newDate[1]="02";break;case"Feb":newDate[1]="02",altFormat=!0;break;case"mars":newDate[1]="03";break;case"Mar":newDate[1]="03",altFormat=!0;break;case"avril":newDate[1]="04";break;case"Apr":newDate[1]="04",altFormat=!0;break;case"mai":newDate[1]="05";break;case"May":newDate[1]="05",altFormat=!0;break;case"juin":newDate[1]="06";break;case"Jun":newDate[1]="06",altFormat=!0;break;case"juillet":newDate[1]="07";break;case"Jul":newDate[1]="07",altFormat=!0;break;case"août":newDate[1]="08";break;case"Aug":newDate[1]="08",altFormat=!0;break;case"septembre":newDate[1]="09";break;case"Sep":newDate[1]="09",altFormat=!0;break;case"octobre":newDate[1]="10";break;case"Oct":newDate[1]="10",altFormat=!0;break;case"novembre":newDate[1]="11";break;case"Nov":newDate[1]="11",altFormat=!0;break;case"décembre":newDate[1]="12";break;case"Dec":newDate[1]="12",altFormat=!0;break;default:newDate[1]=""}return altFormat?newDate[1]+"/"+newDate[2]+"/"+newDate[3]:newDate[1]+"/"+newDate[0]+"/"+newDate[2]}function dateCheck(firstDateNew,lastDateNew,dateToCheckNew){firstDateNew=Date.parse(firstDateNew),lastDateNew=Date.parse(lastDateNew),dateToCheckNew=Date.parse(dateToCheckNew);return dateToCheckNew<=lastDateNew&&firstDateNew<=dateToCheckNew}function retrieveLocalData(item){return"true"==item||"false"!=item&&(localStorage.setItem("criticAllocine","true"),localStorage.setItem("usersAllocine","true"),localStorage.setItem("usersImdb","true"),1)}function removeItems(){localStorage.removeItem("critic"),localStorage.removeItem("title"),localStorage.removeItem("dateCreated")}function handleOptionChange(){filters.optionsArray=optionsArray.filter(function(option){return option.selected}).map(function(option){return option.value}),"Depuis toujours"!=filters.optionsArray&&"Default"!=filters.optionsArray||(filters.optionsArray=""),filter()}function filter(){!function(){return Object.keys(filters).some(function(key){return 0<filters[key].length},this)}()?shuffleInstance.filter(Shuffle.ALL_ITEMS):shuffleInstance.filter(function(element){var optionsArray=filters.optionsArray,buttonsArray=filters.buttonsArray,optionNew=element.getAttribute("data-date-formatted").split(","),buttonNew=element.getAttribute("data-genre").split(",");if(0<optionsArray.length&&!optionsArray.some(r=>optionNew.includes(r)))return!1;if(0<buttonsArray.length&&!buttonsArray.some(r=>buttonNew.includes(r)))return!1;return!0}.bind(this))}function toggleMode(){"additive"===localStorage.getItem("mode")?localStorage.setItem("mode","exclusive"):localStorage.setItem("mode","additive")}function toggleDarkmode(){darkmode.toggle(),getDarkmodeStatus()}function getDarkmodeStatus(){var body=document.body;"true"==localStorage.getItem("darkmode")||body.classList.contains("darkmode--activated")?(tglDarkmode.classList.add("far"),tglDarkmode.classList.remove("fas")):(tglDarkmode.classList.remove("far"),tglDarkmode.classList.add("fas"))}localStorage.setItem("menuBool",!1),fetch("https://yaquoiaucine.fr/assets/js/data.json").then(function(response){return response.json()}).then(function(app){var filterLabel=app.data;menuButtonArray.forEach(function(button){button.children[0].children[0].addEventListener("click",function(item){localStorage.setItem("menuBool",!0);var buttonCriticName=item.currentTarget.innerText,localbuttonCriticName=localStorage.getItem(buttonCriticName);"true"==localbuttonCriticName?(item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem(buttonCriticName,"false"),localbuttonCriticNameNumber--):"false"==localbuttonCriticName?(item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(buttonCriticName,"true"),localbuttonCriticNameNumber++):localStorage.setItem(buttonCriticName,"true");criticRatingsLi.children[1].children[0].innerHTML=0<localbuttonCriticNameNumber?'<i class="fas fa-newspaper fa-lg" aria-hidden="true"></i> Presse<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>":'<i class="fas fa-newspaper fa-lg" aria-hidden="true"></i> Presse<span class="criticNumber criticNumberZero">0</span>'}.bind(this),!1);var buttonCriticName=button.children[0].children[0].textContent,localbuttonCriticName=localStorage.getItem(buttonCriticName);"true"==localbuttonCriticName||null==localbuttonCriticName?(criticNumberBool=!0,localbuttonCriticNameNumber++,null==localbuttonCriticName&&localStorage.setItem(buttonCriticName,"true")):"false"==localbuttonCriticName&&button.children[0].children[0].children[0].children[0].removeAttribute("checked")}),criticRatingsLi.children[1].children[0].innerHTML=0<localbuttonCriticNameNumber?'<i class="fas fa-newspaper fa-lg" aria-hidden="true"></i> Presse<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>":'<i class="fas fa-newspaper fa-lg" aria-hidden="true"></i> Presse<span class="criticNumber criticNumberZero">0</span>',criticNumberBool?(localStorage.setItem("criticAllocine","true"),criticInput.children[0].children[0].innerHTML='Tout désélectionner<span><input id="criticToggle0" type="checkbox" checked="checked"><label for="criticToggle0"></label></span>'):(localStorage.setItem("criticAllocine","false"),criticInput.children[0].children[0].innerHTML='Tout sélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>'),function(markup){gridContainerElement.insertAdjacentHTML("beforeend",markup)}(filterLabel.reduce(function(str,item){return str+function(dataForSingleItem){var genre,title=dataForSingleItem.allocineData.title,picture=dataForSingleItem.allocineData.picture,url=dataForSingleItem.allocineData.url,date=dataForSingleItem.allocineData.date,userInput=dataForSingleItem.allocineData.critic,rating=dataForSingleItem.allocineData.criticNames,user=dataForSingleItem.allocineData.user,imdbId=dataForSingleItem.imdbData.imdbId,imdbRating=dataForSingleItem.imdbData.imdbRating,isDateIncluded2018=dataForSingleItem.allocineData.genre.id1,isDateIncludedlast3Weeks=dataForSingleItem.allocineData.genre.id2,isDateIncludedlast90Days=dataForSingleItem.allocineData.genre.id3,divisionNumber=0,urlId=dataForSingleItem.allocineData.url.match(/=(.*)\./).pop();4==date.replace(/\s+/g,"").length&&(date="1 janvier "+date);genre=void 0!==isDateIncludedlast90Days?dataForSingleItem.allocineData.genre.id1+","+dataForSingleItem.allocineData.genre.id2+","+dataForSingleItem.allocineData.genre.id3:void 0!==isDateIncludedlast3Weeks?dataForSingleItem.allocineData.genre.id1+","+dataForSingleItem.allocineData.genre.id2:void 0!==isDateIncluded2018?dataForSingleItem.allocineData.genre.id1:"";var usersImdbActive=splitDate(date),isDateIncludedlast30Days=new Date,userActive=splitDate(String(isDateIncludedlast30Days));isDateIncludedlast30Days.setDate(isDateIncludedlast30Days.getDate()-7);var isDateIncludedlast7Days=dateCheck(isDateIncludedlast30Days.getMonth()+1+"/"+isDateIncludedlast30Days.getDate()+"/"+isDateIncludedlast30Days.getFullYear(),userActive,usersImdbActive),criticActive=new Date;criticActive.setDate(criticActive.getDate()-14);var isDateIncludedlast2Weeks=dateCheck(criticActive.getMonth()+1+"/"+criticActive.getDate()+"/"+criticActive.getFullYear(),userActive,usersImdbActive),isDateIncludedlast90Days=new Date;isDateIncludedlast90Days.setDate(isDateIncludedlast90Days.getDate()-21);isDateIncludedlast3Weeks=dateCheck(isDateIncludedlast90Days.getMonth()+1+"/"+isDateIncludedlast90Days.getDate()+"/"+isDateIncludedlast90Days.getFullYear(),userActive,usersImdbActive),isDateIncluded2018=new Date;isDateIncluded2018.setDate(isDateIncluded2018.getDate()-30);isDateIncludedlast30Days=dateCheck(isDateIncluded2018.getMonth()+1+"/"+isDateIncluded2018.getDate()+"/"+isDateIncluded2018.getFullYear(),userActive,usersImdbActive),criticActive=new Date;criticActive.setDate(criticActive.getDate()-90);isDateIncludedlast90Days=dateCheck(criticActive.getMonth()+1+"/"+criticActive.getDate()+"/"+criticActive.getFullYear(),userActive,usersImdbActive),isDateIncluded2018=dateCheck("01/01/2018","12/31/2018",usersImdbActive),criticActive=dateCheck("01/01/2019","12/31/2019",usersImdbActive),userActive=dateCheck("01/01/2020","12/31/2020",usersImdbActive),usersImdbActive=dateCheck("01/01/2021","12/31/2021",usersImdbActive);dateFormattedFilter=function(isDateIncludedlast7Days,isDateIncludedlast2Weeks,isDateIncludedlast3Weeks,isDateIncludedlast30Days,isDateIncludedlast90Days,isDateIncluded2018,isDateIncluded2019,isDateIncluded2020,isDateIncluded2021){var text="",text2="";text=isDateIncludedlast7Days?"Les 7 derniers jours,Les 2 dernières semaines,Les 3 dernières semaines,Les 30 derniers jours,Les 90 derniers jours":isDateIncludedlast2Weeks?"Les 2 dernières semaines,Les 3 dernières semaines,Les 30 derniers jours,Les 90 derniers jours":isDateIncludedlast3Weeks?"Les 3 dernières semaines,Les 30 derniers jours,Les 90 derniers jours":isDateIncludedlast30Days?"Les 30 derniers jours,Les 90 derniers jours":isDateIncludedlast90Days?"Les 90 derniers jours":"";text2=isDateIncluded2021?"En 2021":isDateIncluded2020?"En 2020":isDateIncluded2019?"En 2019":isDateIncluded2018?"En 2018":"";return text+","+text2}(isDateIncludedlast7Days,isDateIncludedlast2Weeks,isDateIncludedlast3Weeks,isDateIncludedlast30Days,isDateIncludedlast90Days,isDateIncluded2018,criticActive,userActive,usersImdbActive),critic=function(criticFix,criticNames){var buttonCriticNameNew,critic=0,criticNumber=0,res=0;critic=0<Object.keys(criticNames).length?(menuButtonArray.forEach(function(last7Char){var buttonCriticName=last7Char.children[0].children[0].textContent,localbuttonCriticName=localStorage.getItem(buttonCriticName),last7Char=buttonCriticName.substr(buttonCriticName.length-7);buttonCriticNameTemp=" Contre"==last7Char?buttonCriticName.replace(" Contre","2"):buttonCriticName,buttonCriticNameNew=buttonCriticNameTemp.replace("'","&#039;"),"true"==localbuttonCriticName&&null!=criticNames[buttonCriticNameNew]?(res+=parseFloat(criticNames[buttonCriticNameNew]),criticNumber++):null==localbuttonCriticName&&(criticNull=!0)}),criticNull?criticFix:(critic=parseFloat(res/criticNumber))||0):0;return critic}(userInput,rating),""==user&&(user=0);""==imdbRating&&(imdbRating=0);var criticActive=localStorage.getItem("criticAllocine"),userActive=localStorage.getItem("usersAllocine"),usersImdbActive=localStorage.getItem("usersImdb"),userInput=document.querySelector(".nav-item.usersAllocine"),rating=document.querySelector(".nav-item.usersImdb");retrieveLocalData(criticActive)&&retrieveLocalData(userActive)&&retrieveLocalData(usersImdbActive)?(divisionNumber=3,criticDetails=0==critic?(divisionNumber--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",userDetails=0==user?(divisionNumber--,"/"):user+"<span>/5</span>",imdbDetails=0==imdbRating?(divisionNumber--,"/"):imdbRating+"<span>/10</span>",ratingTemp=(parseFloat(critic)+parseFloat(user)+parseFloat(imdbRating/2))/divisionNumber,userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):retrieveLocalData(criticActive)&&retrieveLocalData(usersImdbActive)?(divisionNumber=2,criticDetails=0==critic?(divisionNumber--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",imdbDetails=0==imdbRating?(divisionNumber--,"/"):imdbRating+"<span>/10</span>",ratingTemp=(parseFloat(critic)+parseFloat(imdbRating/2))/divisionNumber,userDetails="/",userInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):retrieveLocalData(userActive)&&retrieveLocalData(usersImdbActive)?(divisionNumber=2,userDetails=0==user?(divisionNumber--,"/"):user+"<span>/5</span>",imdbDetails=0==imdbRating?(divisionNumber--,"/"):imdbRating+"<span>/10</span>",ratingTemp=(parseFloat(user)+parseFloat(imdbRating/2))/divisionNumber,criticDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):retrieveLocalData(criticActive)&&retrieveLocalData(userActive)?(divisionNumber=2,criticDetails=0==critic?(divisionNumber--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",userDetails=0==user?(divisionNumber--,"/"):user+"<span>/5</span>",ratingTemp=(parseFloat(critic)+parseFloat(user))/divisionNumber,imdbDetails="/",rating.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'):retrieveLocalData(criticActive)?(divisionNumber=1,criticDetails=0==critic?(divisionNumber--,"/"):parseFloat(critic).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",ratingTemp=parseFloat(critic)/divisionNumber,userDetails=imdbDetails="/",userInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),rating.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'):retrieveLocalData(userActive)?(divisionNumber=1,userDetails=0==user?(divisionNumber--,"/"):parseFloat(user).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",ratingTemp=parseFloat(user)/divisionNumber,criticDetails=imdbDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),rating.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber">1</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'):retrieveLocalData(usersImdbActive)?(divisionNumber=1,imdbDetails=0==imdbRating?(divisionNumber--,"/"):parseFloat(imdbRating).toFixed(2).replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/10</span>",ratingTemp=parseFloat(imdbRating/2)/divisionNumber,criticDetails=userDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),userInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber">1</span>'):(ratingTemp=0,criticDetails=userDetails=imdbDetails="/",criticInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),userInput.children[0].children[0].children[0].children[0].removeAttribute("checked"),rating.children[0].children[0].children[0].children[0].removeAttribute("checked"),userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber criticNumberZero">0</span>',imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>');ratingTemp=ratingTemp||0,ratingToFixed=ratingTemp.toFixed(2),rating=ratingToFixed.replace(/([0-9]+(\.[0-9]+[1-9])?)(\.?0+$)/,"$1")+"<span>/5</span>",title=15<title.length?title.substring(0,14)+"...":dataForSingleItem.allocineData.title;return['<figure class="col-3@xs col-4@sm col-3@md picture-item shuffle-item shuffle-item--visible" data-genre="'+genre+'" data-date-formatted="'+dateFormattedFilter+'" data-critic="'+ratingToFixed+'" data-date-created="'+date+'" data-title="'+title+'" style="position: absolute; top: 0px; left: 0px; visibility: visible; will-change: transform; opacity: 1; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-property: transform, opacity;">','<div class="picture-item__inner">','<div class="aspect aspect--16x9">','<div class="aspect__inner">','<a href="'+url+'" target="_blank" rel="noopener" title="'+dataForSingleItem.allocineData.title+" / "+date+'">','<img src="'+picture+'" srcset="'+picture+'" alt="'+title+'">',"</a>",'<img class="picture-item__blur" src="'+picture+'" srcset="'+picture+'" alt="" aria-hidden="true">','<div class="aspect__inner overlayInfos displayNone">','<a href="https://www.allocine.fr/film/fichefilm-'+urlId+'/critiques/presse/" target="_blank"><i class="fas fa-newspaper"></i>'+criticDetails+"</a>",'<a href="https://www.allocine.fr/film/fichefilm-'+urlId+'/critiques/spectateurs/" target="_blank"><i class="fas fa-users"></i>'+userDetails+"</a>",'<a href="https://www.imdb.com/title/'+imdbId+'/" target="_blank"><i class="fab fa-imdb"></i>'+imdbDetails+"</a>","</div>","</div>","</div>",'<div class="picture-item__details">','<figcaption class="picture-item__title">','<a href="'+url+'" target="_blank" rel="noopener" title="'+dataForSingleItem.allocineData.title+" / "+date+'">'+title+"</a>","</figcaption>",'<a href="javascript:void(0)">','<p class="picture-item__tags">'+rating+"</p>","</a>","</div>","</div>","</figure>"].join("")}(item)},"")),shuffleInstance=new Shuffle(gridContainerElement,{itemSelector:".picture-item",sizer:".my-sizer-element"}),filters={optionsArray:[],buttonsArray:[]};var criticButtonNumber,shortcutId,i,map,app=localStorage.getItem("mode"),filterLabel=document.querySelector(".filter-label");filterLabel.innerHTML="additive"===app?'Genre (cumuler <input id="inputToggle" type="checkbox" checked><label for="inputToggle">)</label>':'Genre (cumuler <input id="inputToggle" type="checkbox"><label for="inputToggle">)</label>',removeItems(),function(){var searchInput=document.querySelector(".js-shuffle-search");searchInput&&searchInput.addEventListener("input",function(evt){var searchText=evt.target.value.toLowerCase();shuffleInstance.filter(function(element,shuffle){if(shuffle.group!==Shuffle.ALL_ITEMS&&!(-1!==JSON.parse(element.getAttribute("data-groups")).indexOf(shuffle.group)))return!1;return-1!==element.querySelector(".picture-item__title").textContent.toLowerCase().trim().indexOf(searchText)})}.bind(this))}(),function(){var buttonGroup=document.querySelector(".sort-options");buttonGroup&&buttonGroup.addEventListener("change",function(evt){Array.from(evt.currentTarget.children).forEach(function(button){button.querySelector("input").value===evt.target.value?button.classList.add("active"):button.classList.remove("active")});var value=evt.target.value,options={};function sortByDate(element){return Date.parse(splitDate(element.getAttribute("data-date-created")))}function sortByTitle(element){return element.getAttribute("data-title").toLowerCase()}function sortCritic(element){return element.getAttribute("data-critic")}"date-created"===value?"true"===localStorage.getItem("dateCreated")?(options={reverse:!1,by:sortByDate},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="date-created"> Date de sortie <i class="fas fa-arrow-up"></i>',localStorage.setItem("dateCreated","false")):(options={reverse:!0,by:sortByDate},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="date-created"> Date de sortie <i class="fas fa-arrow-down"></i>',localStorage.setItem("dateCreated","true")):"title"===value?"true"===localStorage.getItem("title")?(options={reverse:!0,by:sortByTitle},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="title"> Titre <i class="fas fa-arrow-up"></i>',localStorage.setItem("title","false")):(options={reverse:!1,by:sortByTitle},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="title"> Titre <i class="fas fa-arrow-down"></i>',localStorage.setItem("title","true")):"critic"===value&&("true"===localStorage.getItem("critic")?(options={reverse:!1,by:sortCritic},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="critic"> Note <i class="fas fa-arrow-up"></i>',localStorage.setItem("critic","false")):(options={reverse:!0,by:sortCritic},evt.target.parentNode.innerHTML='<input type="radio" name="sort-value" value="critic"> Note <i class="fas fa-arrow-down"></i>',localStorage.setItem("critic","true")));shuffleInstance.sort(options)}.bind(this))}(),function(){var activePeriod=localStorage.getItem("activePeriod");setTimeout(function(){null!=activePeriod&&(optionsButton.value=activePeriod,optionsButton.options[optionsButton.selectedIndex].setAttribute("selected","selected"),handleOptionChange())},100),onButtonChange=function(btnGroup){var mode=localStorage.getItem("mode");null==mode&&localStorage.setItem("mode","exclusive");var btn=btnGroup.currentTarget,isActive=btn.classList.contains("active"),btnGroup=btn.getAttribute("data-group");"additive"===mode?(isActive?filters.buttonsArray.splice(filters.buttonsArray.indexOf(btnGroup),1):filters.buttonsArray.push(btnGroup),btn.classList.toggle("active")):(function(){for(var children=btn.parentNode.children,i=children.length-1;0<=i;i--)children[i].classList.remove("active")}(),isActive?(btn.classList.remove("active"),filters.buttonsArray=[]):(btn.classList.add("active"),filters.buttonsArray=buttonsArray.filter(function(button){return button.classList.contains("active")}).map(function(button){return button.getAttribute("data-group")}))),filter()}.bind(this),optionsButton.addEventListener("change",function(){optionsButton.options[optionsButton.selectedIndex].setAttribute("selected","selected"),handleOptionChange(),activePeriod=optionsButton.options[optionsButton.selectedIndex].value,localStorage.setItem("activePeriod",activePeriod)}),buttonsArray.forEach(function(button){button.addEventListener("click",onButtonChange)},this)}(),criticButtonNumber=document.querySelectorAll(".nav-item.criticButton:not(.criticAllocine)").length,mainToggle0.addEventListener("click",function(){localStorage.setItem("menuBool",!0),menuButtonArray.forEach(function(button){var buttonCriticName=button.children[0].children[0].textContent;criticNumberBool?(button.children[0].children[0].children[0].children[0].removeAttribute("checked"),localStorage.setItem(buttonCriticName,"false"),localbuttonCriticNameNumber=0,criticRatingsLi.children[1].children[0].innerHTML='<i class="fas fa-newspaper fa-lg" aria-hidden="true"></i> Presse<span class="criticNumber criticNumberZero">0</span>'):(button.children[0].children[0].children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(buttonCriticName,"true"),localbuttonCriticNameNumber=criticButtonNumber,criticRatingsLi.children[1].children[0].innerHTML='<i class="fas fa-newspaper fa-lg" aria-hidden="true"></i> Presse<span class="criticNumber">'+localbuttonCriticNameNumber+"</span>")}),criticNumberBool=!criticNumberBool},!1),document.querySelector("#inputToggle").addEventListener("click",toggleMode,!1),tglDarkmode.addEventListener("click",toggleDarkmode,!1),removeItems(),document.getElementById("defaultInput").click(),shortcutId=document.getElementById("shortcut"),(app=document.querySelector(".textfield")).addEventListener("focus",function(){shortcutId.classList.remove("displayNone")}),app.addEventListener("focusout",function(){shortcutId.classList.add("displayNone")}),getDarkmodeStatus(),app=document.querySelectorAll(".nav-item.mainToggle"),Array.from(app).forEach(function(toggle){toggle.children[0].children[0].addEventListener("click",function(item){localStorage.setItem("menuBool",!0);var classListName=item.currentTarget.parentNode.parentNode.classList[1];"true"==localStorage.getItem(classListName)?("criticAllocine"==classListName?item.currentTarget.innerHTML='Tout sélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>':"usersAllocine"==classListName?userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber criticNumberZero">0</span>':"usersImdb"==classListName&&(imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber criticNumberZero">0</span>'),item.currentTarget.children[0].children[0].removeAttribute("checked"),localStorage.setItem(classListName,"false")):("criticAllocine"==classListName?item.currentTarget.innerHTML='Tout désélectionner<span><input id="criticToggle0" type="checkbox"><label for="criticToggle0"></label></span>':"usersAllocine"==classListName?userRatingLi.children[1].children[0].innerHTML='<i class="fas fa-users fa-lg" aria-hidden="true"></i> Spectateurs<span class="criticNumber">1</span>':"usersImdb"==classListName&&(imdbUserRatingLi.children[1].children[0].innerHTML='<i class="fab fa-imdb fa-lg" aria-hidden="true"></i> Spectateurs IMDb<span class="criticNumber">1</span>'),item.currentTarget.children[0].children[0].setAttribute("checked","checked"),localStorage.setItem(classListName,"true"))}.bind(this),!1)}),app=document.querySelectorAll(".nav-item.criticButton:not(.mainToggle)"),app=Array.from(app),i=1,app.forEach(function(button){var ulListLoad=button.children[0].children[0].textContent,secondListItemLoad=localStorage.getItem(ulListLoad);button.children[0].children[0].addEventListener("click",function(){var ulList=this.parentNode.parentNode.parentNode,liItem=this.parentNode.parentNode,secondListItem=this.parentNode.parentNode.parentNode.childNodes[1];"checked"==this.children[0].children[0].getAttribute("checked")&&ulList.insertBefore(liItem,secondListItem)},!1),"true"==secondListItemLoad&&(ulListLoad=button.parentNode,secondListItemLoad=button.parentNode.childNodes[i],ulListLoad.insertBefore(button,secondListItemLoad),i++)}),document.querySelectorAll(".picture-item__tags").forEach(function(tag){tag.addEventListener("click",function(){tag.parentNode.parentNode.parentNode.children[0].children[0].children[2].classList.toggle("displayNone")},!1)}),map={},onkeydown=onkeyup=function(e){e=e||event,map[e.keyCode]="keydown"==e.type,1==map[70]&&1==e.ctrlKey||1==map[70]&&1==e.metaKey?(e.preventDefault(),document.getElementById("filters-search-input").focus(),map[70]=!1):1==map[27]&&(e.preventDefault(),overlay.classList.contains("overlay")?document.location.reload():(document.getElementById("filters-search-input").blur(),map[27]=!1))},app=document.getElementById("typewriter"),new Typewriter(app,{loop:!0,delay:50}).typeString('"T\'as vu quoi comme bon film récemment ?"').pauseFor(2500).deleteAll().typeString('"C\'est quoi le film à ne pas manquer ?"').pauseFor(2500).deleteAll().typeString('"Tu me recommandes quoi en ce moment ?"').pauseFor(2500).start()})};document.addEventListener("DOMContentLoaded",function(){new hcOffcanvasNav("#main-nav",{customToggle:".fa-sliders-h",closeOnClick:!1,levelSpacing:0,navTitle:"Choix des notes",labelBack:"Retour",ariaLabels:{open:"Ouvrir menu",close:"Fermer menu",submenu:"Sous-menu"}}).on("close",function(){"true"==localStorage.getItem("menuBool")&&(document.location.reload(),localStorage.setItem("menuBool",!1))}),window.main=new DOMLoaded(document.getElementById("grid"))});